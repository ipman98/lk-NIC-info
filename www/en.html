<!doctype html>
<html>

<head>
  <title>Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
  <link rel="stylesheet" href="css/jquery.mobile.theme-1.4.5.min.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/custom-font.css">
  <!--cordova-->
  <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
  <!--common css codes-->
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.mobile-1.4.5.min.js"></script>
</head>

<body>
  <!--home page start-->
  <div data-role="page" id="home" data-theme="b">

    <div data-role="header" class="header">
      <h1>SL NIC Info Finder</h1>
    </div>

    <div data-role="content">
      <center>
        <label for="text-basic" class="ui-bar ui-bar-b ui-corner-all">NIC Number</label>
      </center>

      <form id="inputForm">

        <input id="txtInput" class="custominput" type="text" placeholder="123456789V">
        <input id="btnFind" class="ui-shadow ui-btn ui-corner-all" type="submit" value="Find Details">

      </form>
      <!--info start-->
      <div id="instruction" style="font-size: 12px;">
        <center>
          <h3 style="margin-top: 30px;margin-bottom: 10px;">Instructions</h3>
        </center>
        <div class="ui-body ui-body-b ui-corner-all instruction">
          <ol>
            <li>This app supports both old &amp; new NIC numbers.</li>
            <li>First, enter your NIC number (New or Old).</li>
            <li>Then press the Find Button.</li>
            <li>NIC type will be detected automatically.</li>
          </ol>
        </div>
      </div>
      <!--info end-->

      <!--display nic details start-->
      <div id="nicInfo" class="nicInfo" style="display: none;">
        <center>
          <label class="ui-bar ui-bar-b ui-corner-all">Information</label>
        </center>

        <div class="ui-body ui-body-b ui-corner-all">
          <table class="table">
            <tr>
              <td>NIC Type</td>
              <td>:</td>
              <td>
                <span id="nicType"></span>
              </td>
            </tr>
            <tr>
              <td>Date of Birth</td>
              <td>:</td>
              <td>
                <span id="bDay"></span>
              </td>
            </tr>
            <tr>
              <td>Age</td>
              <td>:</td>
              <td>
                <span id="age"></span>
              </td>
            </tr>
            <tr>
              <td>Gender</td>
              <td>:</td>
              <td>
                <span id="gender"></span>
              </td>
            </tr>
            <tr>
              <td>Voting Status</td>
              <td>:</td>
              <td>
                <span id="vote"></span>
              </td>
            </tr>
          </table>
        </div>
        <!--display nic details end-->
      </div>
    </div>
    <!--footer start-->
    <div data-role="footer" data-position="fixed" id="mainFooter">
      <div data-role="navbar">
        <ul>
          <li>
            <a href="#home" id="chat" data-icon="home" class="ui-btn-active ui-state-persist">Home</a>
          </li>
          <li>
            <a href="#about" id="chat" data-icon="info">About</a>
          </li>
        </ul>
      </div>
    </div>
    <!--footer end-->
  </div>
  <!--home page end-->

  <!--about page start-->
  <div data-role="page" id="about" data-theme="b">

    <div data-role="header">
      <h1>About App</h1>
    </div>

    <div role="main" class="ui-content">
      <div class="ui-body ui-body-b ui-corner-all">
        <center>
          <img style="margin-top:25px;" src="img/logo.png" width="60%">
        </center>
        <h5 style="margin-bottom: 6px;">Developed By</h5>
        <h4 style="margin-top: 0px;">Navinda Dissanayake</h4>
        <h5 style="margin-bottom: 6px;">Website</h5>
        <h4 style="margin-top: 0px;">
          <a href="" onclick="loadMySite()">www.navinda.xyz</a>
        </h4>
        <h5 style="margin-bottom: 6px;">E-Mail</h5>
        <h4 style="margin-top: 0px;">navilk@zoho.com</h4>
      </div>
    </div>

    <!--footer start-->
    <div data-role="footer" data-position="fixed" id="mainFooter">
      <div data-role="navbar">
        <ul>
          <li>
            <a href="#home" id="chat" data-icon="home">Home</a>
          </li>
          <li>
            <a href="#about" id="chat" data-icon="info" class="ui-btn-active ui-state-persist">About</a>
          </li>
        </ul>
      </div>
    </div>
    <!--footer end-->
  </div>

  <!--about page end-->

  <!--scripts start-->

  <!--moment.js-->
  <script src="js/moment.js"></script>

  <!--nic details grabber-->
  <script src="js/nic.js"></script>

  <!--day and month from days-->
  <script src="js/getDayAndMonth.js"></script>

  <!--common functions-->
  <script src="js/common.js"></script>

  <!--translator-->
  <script src="js/translator.js"></script>

  <script>
    //load in browser
    function loadMySite() {
      var ref = cordova.InAppBrowser.open('https://www.navinda.xyz', '_system', 'location=yes');
      ref.close();
    }

    //when page loaded
    $(document).ready(function () {
      $('#txtInput').focus();
      langCode = 0; //lang is english
    });

    var nic;

    //trigger when form submit
    $('#inputForm').submit(function (e) {

      //hide info
      $('#instruction').hide();

      //avoid refresh
      e.preventDefault();

      nic = $('#txtInput').val();

      if (validateNic(nic)) {
        getNicDetails(nic);
        $('#nicType').text(nicType);
        $('#bDay').text(bDay);
        $('#age').text(age);
        $('#gender').text(gender);
        $('#vote').text(vote);
        $('#nicInfo').fadeIn();

      } else {
        navigator.notification.alert("NIC Number is invalid!", null, "Error", "Ok")
      }

      //remove focus from button
      $('btnFind').blur();

    });

    //trigger when user type nic
    $('#txtInput').keyup(function () {

      nic = $('#txtInput').val();

      if (validateNic(nic)) {
        $(this).css({ 'background': '' });
      } else {
        $(this).css({ 'background': '#700000' });
      }

      //change color to null when input is null
      if (!isNotNull(nic)) {
        $(this).css({ 'background': '' });
      }

    });
  </script>
  <!--scripts end-->

</body>

</html>