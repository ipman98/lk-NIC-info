<!doctype html>
<html>

<head>
  <title>Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
  <link rel="stylesheet" href="css/jquery.mobile.theme-1.4.5.min.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/custom-font.css">
  <!--cordova-->
  <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
  <!--common css codes-->
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.mobile-1.4.5.min.js"></script>
</head>

<body>
  <!--home page start-->
  <div data-role="page" id="home" data-theme="b">

    <div data-role="header" class="header">
      <h1>SL NIC Info Finder</h1>
    </div>

    <div data-role="content">
      <center>
        <label for="text-basic" class="ui-bar ui-bar-b ui-corner-all sinhala">හැදුනුම්පත් අංකය</label>
      </center>

      <form id="inputForm">

        <input id="txtInput" class="custominput" type="text" placeholder="123456789V">
        <button id="btnFind" type="submit" class="ui-shadow ui-btn ui-corner-all sinhala">සොයන්න</button>

      </form>
      <!--info start-->
      <div id="info" class="sinhala">
        <center>
          <h3 style="margin-top: 30px;margin-bottom: 10px;">උපදෙස්</h3>
        </center>
        <div class="ui-body ui-body-b ui-corner-all info">
          <ol>
            <li>මෙම ඇප් එක පැරණි සහ නව හැදුනුම්පත් අංක සදහා සහය දක්වයි.</li>
            <li>මුලින්ම ඔබගේ හැදුනුම්පත් අංකය (පැරණි හෝ නව) ඇතුල් කරන්න.</li>
            <li>ඉන් පසුව "සොයන්න" බටන් එක ඔබන්න.</li>
            <li>හැදුනුම්පත් වර්ගය ස්වයංක්‍රියාව සොයාගනු ඇත.</li>
          </ol>
        </div>
      </div>
      <!--info end-->

      <!--display nic details start-->
      <div id="nicInfo" class="nicInfo" style="display: none;">
        <center>
          <label class="ui-bar ui-bar-b ui-corner-all sinhala">සොයාගත් විස්තර</label>
        </center>

        <div class="ui-body ui-body-b ui-corner-all">
          <table class="table sinhala">
            <tr>
              <td>හැදුනුම්පත් වර්ගය</td>
              <td>:</td>
              <td>
                <span id="nicType"></span>
              </td>
            </tr>
            <tr>
              <td>උපන් දිනය</td>
              <td>:</td>
              <td>
                <span id="bDay"></span>
              </td>
            </tr>
            <tr>
              <td>වයස</td>
              <td>:</td>
              <td>
                <span id="age"></span>
              </td>
            </tr>
            <tr>
              <td>ස්ත්‍රී/පුරුෂ භාවය</td>
              <td>:</td>
              <td>
                <span id="gender"></span>
              </td>
            </tr>
            <tr>
              <td>ඡනද අයිතය</td>
              <td>:</td>
              <td>
                <span id="vote"></span>
              </td>
            </tr>
          </table>
        </div>
        <!--display nic details end-->
      </div>
    </div>
    <!--footer start-->
    <div data-role="footer" data-position="fixed" id="mainFooter">
      <div data-role="navbar">
        <ul>
          <li>
            <a href="#home" id="chat" data-icon="home" class="ui-btn-active ui-state-persist">
              <span class="sinhala">මුල් පිටුව</span>
            </a>
          </li>
          <li>
            <a href="#about" id="chat" data-icon="info">
              <span class="sinhala">විස්තර</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <!--footer end-->
  </div>
  <!--home page end-->

  <!--about page start-->
  <div data-role="page" id="about" data-theme="b">

    <div data-role="header">
      <h1>About App</h1>
    </div>

    <div role="main" class="ui-content">
      <div class="ui-body ui-body-b ui-corner-all">
        <ul>
          <li>Developed By Navinda Dissanayake.</li>
          <li>www.navinda.xyz</li>
        </ul>
      </div>
    </div>

    <!--footer start-->
    <div data-role="footer" data-position="fixed" id="mainFooter">
      <div data-role="navbar">
        <ul>
          <li>
            <a href="#home" id="chat" data-icon="home">
              <span class="sinhala">මුල් පිටුව</span>
            </a>
          </li>
          <li>
            <a href="#about" id="chat" data-icon="info" class="ui-btn-active ui-state-persist">
              <span class="sinhala">විස්තර</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <!--footer end-->
  </div>

  <!--about page end-->

  <!--scripts start-->

  <!--moment.js-->
  <script src="js/moment.js"></script>

  <!--nic details grabber-->
  <script src="js/nic.js"></script>

  <!--day and month from days-->
  <script src="js/getDayAndMonth.js"></script>

  <!--common functions-->
  <script src="js/common.js"></script>

  <!--translator-->
  <script src="js/translator.js"></script>

  <script>

    //when page loaded
    $(document).ready(function () {
      $('#txtInput').focus();
      langCode = 1; //lang is sinhala
    });

    var nic;

    //trigger when form submit
    $('#inputForm').submit(function (e) {
      
      //hide info
      $('#info').hide();

      //avoid refresh
      e.preventDefault();

      nic = $('#txtInput').val();

      if (validateNic(nic)) {
        getNicDetails(nic);
        $('#nicType').text(nicType);
        $('#bDay').text(bDay);
        $('#age').text(age);
        $('#gender').text(gender);
        $('#vote').text(vote);
        $('#nicInfo').fadeIn();

      }

      //remove focus from button
      $('btnFind').blur();

    });

    //trigger when user type nic
    $('#txtInput').keyup(function () {

      nic = $('#txtInput').val();

      if (validateNic(nic)) {
        $(this).css({ 'background': '' });
      } else {
        $(this).css({ 'background': '#700000' });
      }

      //change color to null when input is null
      if (!isNotNull(nic)) {
        $(this).css({ 'background': '' });
      }

    });
  </script>
  <!--scripts end-->

</body>

</html>